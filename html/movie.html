<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="movie.css">
    <script src="../jquery.min.js"></script>
    <script src="jquery1"></script>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="menu">
                <ul>
                    <div class="logo">
                        <img src="../images/logo.png">
                    </div>
                    <button class="toggle-menu" aria-label="Toggle navigation">
                        <span class="bar"></span>
                        <span class="bar"></span>
                        <span class="bar"></span>
                    </button>
                    <ul class="nav-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="MyList.html">My List</a></li>
                        <li><a href="topten.html">Top 10 Movies</a></li>
                        <li><a href="#">Profile</a></li>
                    </ul>
                </ul>
            </div>
        </div>
        <div class="main-container">
            <div class="flex-box">
                <ul class="list-inline movie-meta">
                    <li><h1 class="movie-title">Call Me by Your Name</h1></li>
                    <li class="list-inline-item"><h4>2017 </h4></li>
                    <li class="list-inline-item"><h4> •</h4></li>
                    <li class="list-inline-item"><h4>2h 12m</h4></li>
                    <li class="list-inline-item">
                        <img src="../images/redfav.png" id="changeFavicon" onclick="changeFavicon()" 
                        alt="Favorite Icon" class="fav-icon" style="width: 25px; height: 25px; cursor: pointer;">
                    </li>
                </ul>
            </div>
            <div class="row align-items-center">
                <!-- Movie Image -->
                <div class="col-md-6">
                    <div class="image-box">
                        <img src="../images/callmebyyourname.jpg" class="img-fluid" alt="Call Me by Your Name">
                    </div>
                    <!-- Movie Details -->
                        <div class="details-box">
                            <p class="rating">
                                <strong>Rate:</strong> 7.3
                                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
                                <span class="fa fa-star checked"></span>
                            </p>
                            <p class="text-muted"><strong>Director:</strong> Luca Guadagnino</p>
                            <p class="text-muted"><strong>Category:</strong> Drama</p>
                            <p class="text-muted"><strong>Top Cast:</strong> Armie Hammer, Timothée Chalamet, Amira Casar, Michael Stuhlbarg, Esther Garrel, Victoire Du Bois, Antonio Rimoldi</p>
                            <br>
                            <p><strong>Description:</strong><br><br>
                                CALL ME BY YOUR NAME, the new film by Luca Guadagnino, is a sensual and transcendent tale of first love, based on the acclaimed novel by André Aciman. It's the summer of 1983 in the north of Italy, and Elio Perlman (Timothée Chalamet), a precocious 17-year-old young man, spends his days in his family's 17th-century villa transcribing and playing classical music, reading, and flirting with his friend Marzia (Esther Garrel). Elio enjoys a close relationship with his father (Michael Stuhlbarg), an eminent professor specializing in Greco-Roman culture, and his mother Annella (Amira Casar), a translator, who favor him with the fruits of high culture in a setting that overflows with natural delights. While Elio's sophistication and intellectual gifts suggest he is already a fully-fledged adult, there is much that yet remains innocent and unformed about him, particularly about matters of the heart. One day, Oliver (Armie Hammer), a 24-year-old American college graduate student working on his doctorate, arrives as the annual summer intern tasked with helping Elio's father. Amid the sun-drenched splendor of the setting, Elio and Oliver discover the heady beauty of awakening desire over the course of a summer that will alter their lives forever.
                            </p>
                        </div>
                </div>
            </div>
        </div>
        <div class="comment-session">  
            <h1 style="color: white; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">Reviews (2)</h1>
            <div class="post-comment">
                <div class="list">
                    <div class="comment-post">
                        <div class="user">
                            <div class="user-meta">
                                <div class="name">IoannaGrb</div>
                                <div class="day">2 days ago</div>
                            </div>
                        </div>
                        Great Movie!
                    </div>
                    <div class="comment-post">
                        <div class="user">
                            <div class="user-meta">
                                <div class="name">user99</div>
                                <div class="day">4 days ago</div>
                            </div>
                        </div>
                        Beauty in the midst of all the ugliness we're living in, it's like a shock. I wept like I hadn't wept in a movie since I was very young. It made me think and remember summers of my own life. It made remember sounds and smells. I was transported. The smartness, candor and gentleness of this unexpected love story goes beyond anything I've ever seen. Luca Guadagnino is rapidly becoming one my favorite directors working today. Armie Hammer completely demolished my preconceptions with a performance that is total perfection and I haven't mention Timothee Chalamet yet. No I need to dedicate the lasts paragraphs to him because his performance goes beyond perfection. I didn't know him at all. Now I' a fan. It reminded me of the first time I saw Daniel Day Lewis playing a gay punk in "My Beautiful Launderette" An explosion of beauty when you least expected. Thank you for that.
                    </div>
                </div>
            </div>
            <div class="comment-box">
                <div class="user">
                    <div class="name">Ioanna</div>
                </div>
                <textarea name="comment" id="commentInput" cols="30" rows="10" placeholder="Write a comment" style="font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;"></textarea>
                <button id="submitComment" class="comment-submit">Comment</button>
            </div>
        </div>  
        <div class="footer">
            <footer style="background-color: #000000; color: #ffffff; padding: 20px 0; text-align: center;">
                <div style="max-width: 1200px; margin: 0 auto; padding: 0 20px;">
                    <!-- Logo and Navigation -->
                    <div style="margin-bottom: 20px;">
                        <h2 style="margin: 0; font-family: Arial, sans-serif;">RateFlix</h2>
                        <nav style="margin-top: 10px;">
                            <a href="/about" style="color: #ffffff; text-decoration: none; margin: 0 15px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">About Us</a>
                            <a href="/contact" style="color: #ffffff; text-decoration: none; margin: 0 15px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">Contact</a>
                            <a href="/terms" style="color: #ffffff; text-decoration: none; margin: 0 15px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">Terms of Service</a>
                            <a href="/privacy" style="color: #ffffff; text-decoration: none; margin: 0 15px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">Privacy Policy</a>
                        </nav>
                    </div>
        
                    <!-- Social Media Links -->
                    <div style="margin-bottom: 20px;">
                        <a href="https://facebook.com" target="_blank" style="margin: 0 10px; color: #ffffff; text-decoration: none; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
                            <img src="../images/Facebook-logo.png" alt="Facebook" style="width: 24px; vertical-align: middle; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
                        </a>
                        <a href="https://twitter.com" target="_blank" style="margin: 0 10px; color: #ffffff; text-decoration: none; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
                            <img src="../images/linkedin.png" alt="Twitter" style="width: 24px; vertical-align: middle; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
                        </a>
                        <a href="https://instagram.com" target="_blank" style="margin: 0 10px; color: #ffffff; text-decoration: none; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
                            <img src="../images/instagram.jpg" alt="Instagram" style="width: 24px; vertical-align: middle; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">
                        </a>
                    </div>
        
                    <!-- Copyright -->
                    <div>
                        <p style="margin: 0; font-size: 14px; font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;">&copy; 2024 Rateflix. All rights reserved.</p>
                    </div>
                </div>
            </footer>
    </div>
    <script>
        // Select the toggle button and the nav menu
        const toggleButton = document.querySelector('.toggle-menu');
        const navLinks = document.querySelector('.nav-links');

        // Toggle the menu visibility on button click
        toggleButton.addEventListener('click', () => {
            navLinks.classList.toggle('active');
        });
        // JavaScript to toggle favorite state
        const favoriteIcon = document.getElementById("changeFavicon");
        const itemId = "exampleFavoriteItem"; // Unique ID for this item
    
        // Check and set the initial state from localStorage
        let isFavorite = localStorage.getItem(itemId) === "true";
    
        // Update the icon based on the favorite state
        function updateIcon() {
          if (isFavorite) {
            favoriteIcon.src = "../images/redfav.png"; // Favorite state
          } else {
            favoriteIcon.src = "../images/favorite.png"; // Non-favorite state
          }
        }
    
        // Toggle favorite state
        function changeFavicon() {
          isFavorite = !isFavorite;
          localStorage.setItem(itemId, isFavorite); // Save state to localStorage
          updateIcon(); // Update the icon
        }
    
        // Initialize the icon on page load
        updateIcon();

    // Function to handle the submission of a comment
    document.getElementById('submitComment').addEventListener('click', function () {
        // Get the value from the textarea
        const commentText = document.getElementById('commentInput').value;

        // Ensure the comment is not empty
        if (commentText.trim() === '') {
            alert('Please write something before submitting!');
            return;
        }

        // Create a new comment element
        const commentPost = document.createElement('div');
        commentPost.classList.add('comment-post');

        const userDiv = document.createElement('div');
        userDiv.classList.add('user');

        const userMetaDiv = document.createElement('div');
        userMetaDiv.classList.add('user-meta');

        const nameDiv = document.createElement('div');
        nameDiv.classList.add('name');
        nameDiv.textContent = 'Ioanna'; // Replace with the logged-in user's name if applicable

        const dayDiv = document.createElement('div');
        dayDiv.classList.add('day');
        dayDiv.textContent = 'Just now';

        userMetaDiv.appendChild(nameDiv);
        userMetaDiv.appendChild(dayDiv);

        userDiv.appendChild(userMetaDiv);

        const commentContent = document.createTextNode(commentText);

        // Append the user info and comment content to the new comment element
        commentPost.appendChild(userDiv);
        commentPost.appendChild(commentContent);

        // Append the new comment to the list
        document.querySelector('.list').appendChild(commentPost);

        // Clear the textarea
        document.getElementById('commentInput').value = '';

        // Optionally save to server
        fetch('/save-comment', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json'
            },
            body: JSON.stringify({ comment: commentText })
        })
        .then(response => response.json())
        .then(data => {
            console.log('Comment saved:', data);
            // Optionally re-render comments from the response
        })
        .catch(error => console.error('Error:', error));
    });

    </script>
</body>
</html>